<div class="card mb-4">
    <div class="card-header pb-0">
        <h3 class="text-center">Cập nhật danh mục</h3>
    </div>
    <div class="col-lg-6 col-md-8 col-11 mx-auto pb-5">
        <form action="" method="post" (ngSubmit)="update()" [formGroup]="formUpdate">
            <div class="mb-3">
                <label for="" class="form-label">Tên</label>
                <input type="text" name="name" class="form-control" formControlName="name" placeholder="Điền tên" aria-describedby="helpId">
                <div *ngIf="form.name.invalid && (form.name.dirty || form.name.touched)" required>
                    <div *ngIf="form.name.errors?.['required']">
                        <span class="text-danger fst-italic">*Tên không đc rỗng</span>
                    </div>
                </div>
            </div>
            <div class="mb-3">
                <label for="" class="form-label">Danh mục</label>
                <select class="form-select form-select-lg" name="category_id" formControlName="category_id">
                    <option>-- Lựa chọn danh mục --</option>
                    <option [value]="cate.value" *ngFor="let cate of categories">{{cate.name}}</option>
                </select>
            </div>
            <div class="mb-3">
                <label for="" class="form-label">Giá</label>
                <input type="text" name="price" class="form-control" formControlName="price" placeholder="Điền tên giá" aria-describedby="helpId">
                <div *ngIf="form.price.invalid && (form.price.dirty || form.price.touched)" required>
                    <div *ngIf="form.price.errors?.['required']">
                        <span class="text-danger fst-italic">*Gía không đc rỗng</span>
                    </div>
                </div>
            </div>
            <div class="mb-3">
                <label for="" class="form-label">Gía giảm</label>
                <input type="text" name="sale_price" class="form-control" formControlName="sale_price" placeholder="Điền giá giảm" aria-describedby="helpId">
                <div *ngIf="form.sale_price.invalid && (form.sale_price.dirty || form.sale_price.touched)" required>
                    <div *ngIf="form.sale_price.errors?.['required']">
                        <span class="text-danger fst-italic">*Gía giảm không đc rỗng</span>
                    </div>
                </div>
            </div>
            <div class="mb-3">
                <label for="" class="form-label">Ảnh</label>
                <div class="row">
                    <div class="col-lg-4 col-md-7" *ngIf="imageCreate">
                        <img class="card-img" src="http://localhost:3000/uploads/{{form.image.value}}" alt="">
                    </div>
                    <div class="col-lg-8 col-md-5">
                        <input type="file" (change)="changeImage($event)" class="form-control" formControlName="image" aria-describedby="helpId">
                        <div *ngIf="form.image.invalid && (form.image.dirty || form.image.touched)" required>
                            <div *ngIf="form.image.errors?.['required']">
                                <span class="text-danger fst-italic">*Ảnh không đc rỗng</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="mb-3">
                <label for="" class="form-label">Mô tả</label>
                <textarea class="form-control" formControlName="description" rows="3" placeholder="Mô tả sản phẩm"></textarea>
                <div *ngIf="form.description.invalid && (form.description.dirty || form.description.touched)" required>
                    <div *ngIf="form.description.errors?.['required']">
                        <span class="text-danger fst-italic">*Ảnh không đc rỗng</span>
                    </div>
                </div>
            </div>
            <label for="" class="form-label">Trạng thái</label>
            <div *ngIf="form.status.invalid && (form.name.dirty || form.name.touched)" required>
                <div *ngIf="form.status.errors?.['required']">
                    <span class="text-danger fst-italic">*Trạng thái không đc rỗng</span>
                </div>
                <div *ngIf="form.status.errors?.['pattern']">
                    <span class="text-danger fst-italic">*Trạng thái chỉ đc là 0 hoặc 1</span>
                </div>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" value="0" formControlName="status" checked>
                <label class="form-check-label" for="">
                Hiển thị
              </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="radio" value="1" formControlName="status" name="status">
                <label class="form-check-label" for="">
                Tạm ẩn
              </label>
            </div>
            <div class="col-md-6 mx-auto mt-5">
                <div class="d-grid gap-2">
                    <button type="submit" [disabled]="form.status.invalid||form.name.invalid || form.image.invalid || form.price.invalid || form.sale_price.invalid || form.category_id.invalid || form.description.invalid  " class="btn btn-primary"><i class="fa-solid fa-plus"></i> Cập nhật sản phẩm</button>
                </div>
            </div>
        </form>
    </div>

</div>